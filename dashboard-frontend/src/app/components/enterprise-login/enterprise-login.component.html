<div class="enterprise-login-container">
  <div class="login-card">
    <div class="card-header">
      <h1>ğŸ¢ Enterprise Login</h1>
      <p>Sign in with your organization credentials</p>
    </div>

    <!-- Auth Method Selection -->
    <div class="auth-methods" *ngIf="!selectedAuthMethod">
      <button class="auth-method-card" (click)="selectAuthMethod('ldap')">
        <div class="method-icon">ğŸ”</div>
        <h3>LDAP</h3>
        <p>Lightweight Directory Access Protocol</p>
      </button>

      <button class="auth-method-card" (click)="selectAuthMethod('ad')">
        <div class="method-icon">ğŸ¢</div>
        <h3>Active Directory</h3>
        <p>Microsoft Active Directory</p>
      </button>

      <button class="auth-method-card" (click)="selectAuthMethod('saml')">
        <div class="method-icon">ğŸ”’</div>
        <h3>SAML SSO</h3>
        <p>Single Sign-On (Azure AD, Okta)</p>
      </button>
    </div>

    <!-- LDAP Login Form -->
    <div class="login-form" *ngIf="selectedAuthMethod === 'ldap'">
      <h3>ğŸ” LDAP Login</h3>
      
      <div class="form-group">
        <label>Username</label>
        <input 
          type="text" 
          [(ngModel)]="ldapUsername"
          placeholder="Enter LDAP username"
          class="form-input">
      </div>

      <div class="form-group">
        <label>Password</label>
        <input 
          type="password" 
          [(ngModel)]="ldapPassword"
          placeholder="Enter password"
          class="form-input">
      </div>

      <div class="form-actions">
        <button class="mat-btn mat-btn-outlined" (click)="selectedAuthMethod = null">
          Back
        </button>
        <button 
          class="mat-btn mat-btn-filled" 
          (click)="loginWithLDAP()"
          [disabled]="isLdapLoading">
          {{ isLdapLoading ? 'Authenticating...' : 'Sign In' }}
        </button>
      </div>
    </div>

    <!-- Active Directory Login Form -->
    <div class="login-form" *ngIf="selectedAuthMethod === 'ad'">
      <h3>ğŸ¢ Active Directory Login</h3>
      
      <div class="form-group">
        <label>Domain (Optional)</label>
        <input 
          type="text" 
          [(ngModel)]="ldapDomain"
          placeholder="CORP (optional)"
          class="form-input">
      </div>

      <div class="form-group">
        <label>Username</label>
        <input 
          type="text" 
          [(ngModel)]="ldapUsername"
          placeholder="username or user@domain.com"
          class="form-input">
      </div>

      <div class="form-group">
        <label>Password</label>
        <input 
          type="password" 
          [(ngModel)]="ldapPassword"
          placeholder="Enter password"
          class="form-input">
      </div>

      <div class="form-actions">
        <button class="mat-btn mat-btn-outlined" (click)="selectedAuthMethod = null">
          Back
        </button>
        <button 
          class="mat-btn mat-btn-filled" 
          (click)="loginWithAD()"
          [disabled]="isLdapLoading">
          {{ isLdapLoading ? 'Authenticating...' : 'Sign In' }}
        </button>
      </div>
    </div>

    <!-- SAML SSO -->
    <div class="login-form" *ngIf="selectedAuthMethod === 'saml'">
      <h3>ğŸ”’ SAML Single Sign-On</h3>
      
      <p class="saml-description">
        You will be redirected to your organization's identity provider to sign in.
      </p>

      <div class="saml-providers">
        <div class="provider-badge">
          <span class="provider-icon">ğŸ”·</span>
          Azure AD
        </div>
        <div class="provider-badge">
          <span class="provider-icon">âš¡</span>
          Okta
        </div>
        <div class="provider-badge">
          <span class="provider-icon">ğŸ”</span>
          Auth0
        </div>
      </div>

      <div class="form-actions">
        <button class="mat-btn mat-btn-outlined" (click)="selectedAuthMethod = null">
          Back
        </button>
        <button class="mat-btn mat-btn-filled" (click)="loginWithSAML()">
          <span>ğŸ”’</span> Continue with SSO
        </button>
      </div>
    </div>

    <!-- SCIM Provisioning Info -->
    <div class="scim-section" *ngIf="!selectedAuthMethod">
      <h3>âš™ï¸ SCIM Provisioning</h3>
      <p>Configure your IdP with these SCIM endpoints:</p>
      
      <div class="scim-config">
        <div class="config-row">
          <label>SCIM Base URL:</label>
          <div class="config-value">
            <code>{{ scimEndpoint }}</code>
            <button class="copy-btn" (click)="copySCIMEndpoint()">ğŸ“‹</button>
          </div>
        </div>
        
        <div class="config-row">
          <label>Bearer Token:</label>
          <div class="config-value">
            <code class="token">{{ scimToken }}</code>
            <button class="copy-btn" (click)="copySCIMToken()">ğŸ“‹</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Alternative Login Methods -->
    <div class="alternative-logins">
      <div class="divider"><span>or</span></div>
      
      <button class="alt-login-btn" (click)="goToOAuthLogin()">
        <span>ğŸ”</span> OAuth (Google/GitHub)
      </button>
      
      <button class="alt-login-btn" (click)="goToPasswordLogin()">
        <span>ğŸ”‘</span> Password Login
      </button>
    </div>

    <div class="setup-note">
      <p><strong>Note:</strong> Enterprise authentication requires configuration. See setup guides for details.</p>
    </div>
  </div>
</div>

